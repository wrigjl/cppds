<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<figure class="listing figure-like"><pre class="program"><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

// creates a class with a logic gate that returns the label, and boolean value
class LogicGate {
    public:
            LogicGate(string n){
                    label = n;
            }
            string getLabel(){
                    return label;
            }
            bool getOutput(){
                    output = performGateLogic();
                    return output;
            }
            virtual bool performGateLogic(){
                    cout &lt;&lt; "ERROR! performGateLogic BASE" &lt;&lt; endl;
                    return false;
            }

            virtual void setNextPin(bool source) {
                    cout &lt;&lt; "ERROR! setNextPin BASE" &lt;&lt; endl;
            }
    private:
            string label;
            bool output;
};

    //class that allows for the gates to have two inputs
class BinaryGate : public LogicGate {
    public:
            BinaryGate(string n) : LogicGate(n) {
                    pinATaken = false;
                    pinBTaken = false;
            }
            bool getPinA() {
                    if (pinATaken == false) {
                            cout &lt;&lt; "Enter Pin A input for gate " &lt;&lt; getLabel() &lt;&lt; ": ";
                            cin &gt;&gt; pinA;
                            pinATaken = true;
                    }
                    return pinA;
            }
            bool getPinB() {
                    if (pinBTaken == false) {
                            cout &lt;&lt; "Enter Pin B input for gate " &lt;&lt; getLabel() &lt;&lt; ": ";
                            cin &gt;&gt; pinB;
                            pinBTaken = true;
                    }
                    return pinB;
            }
            virtual void setNextPin(bool source) {
                    if (pinATaken == false) {
                            pinA = source;
                            this-&gt;pinATaken = true;
                    }
                    else if (pinBTaken == false) {
                            pinB = source;
                            this-&gt;pinBTaken = true;
                    }
            }
    private:
            bool pinA, pinATaken, pinB, pinBTaken;
};

    //allows for the creation of a logic gate with  one input
class UnaryGate : public LogicGate {
    public:
            UnaryGate(string n) : LogicGate(n) {
                    pinTaken = false;
            }
            bool getPin() {
                    if (pinTaken == false) {
                            cout &lt;&lt; "Enter Pin input for gate " &lt;&lt; getLabel() &lt;&lt; ": ";
                            cin &gt;&gt; pin;
                            pinTaken = true;
                    }
                    return pin;
            }
            virtual void setNextPin(bool source) {
                    if (pinTaken == false) {
                            pin = source;
                            pinTaken = true;
                    }
                    else {
                            return;
                    }
            }
    private:
            bool pin, pinTaken;
};

//Class that sets up the logic for an "and" gate
    class AndGate : public BinaryGate{
    public:
            AndGate(string n) : BinaryGate(n) {};

            virtual bool performGateLogic(){
                    bool a = getPinA();
                    bool b = getPinB();
                    if (a == 1 &amp;&amp; b == 1) {
                            return true;
                    }
                    else {
                            return false;
                    }
            }
};

//class that sets up the logic for an "or" gate
    class OrGate : public BinaryGate {
    public:
            OrGate(string n) : BinaryGate(n) {};

            virtual bool performGateLogic() {
                    bool a = getPinA();
                    bool b = getPinB();
                    if (a == 1 || b == 1) {
                            return true;
                    }
                    else {
                            return false;
                    }
            }
};

//class that sets up the logic for a "not" gate
    class NotGate : public UnaryGate {
    public:
            NotGate(string n) : UnaryGate(n) {};

            virtual bool performGateLogic() {
                    if (getPin()) {
                            return false;
                    }
                    else {
                            return true;
                    }
            }
};

// class that sets up logic for the connection of one gate to another
    class Connector{
    public:
            Connector(LogicGate *fgate, LogicGate *tgate) {
                    fromgate = fgate;
                    togate = tgate;
                    tgate-&gt;setNextPin(fromgate-&gt;getOutput());
            }
            LogicGate *getFrom() {
                    return fromgate;
            }
            LogicGate *getTo() {
                    return togate;
            }
    private:
            LogicGate *fromgate, *togate;
};

int main() {

    char stopme;

    //Setting labels
    AndGate gand1(" AND1 ");
    AndGate gand2(" AND2 ");
    OrGate  gor3(" OR ");
    NotGate gnot4(" NOT ");

    // The inputs can be changed here!
    gand1.setNextPin(0);
    gand1.setNextPin(0);
    gand2.setNextPin(0);
    gand2.setNextPin(0);

    //making comnnections
    Connector c1(&amp;gand1, &amp;gor3);
    Connector c2(&amp;gand2, &amp;gor3);
    Connector c3(&amp;gor3, &amp;gnot4);

    // The output shows order of operators
    cout &lt;&lt; gnot4.getLabel() &lt;&lt; "(";
    cout &lt;&lt; "(" &lt;&lt; gand1.getPinA() &lt;&lt; gand1.getLabel() &lt;&lt; gand1.getPinB() &lt;&lt; ")";
    cout &lt;&lt; gor3.getLabel();
    cout &lt;&lt; "(" &lt;&lt; gand2.getPinA() &lt;&lt; gand2.getLabel() &lt;&lt; gand2.getPinB() &lt;&lt; ")";
    cout &lt;&lt; ") results in " &lt;&lt; gnot4.getOutput() &lt;&lt; endl;

    cin &gt;&gt; stopme; //holds open window under some conditions.
    return 0;
}
</code></pre>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">1.13.11<span class="period">.</span></span><span class="space"> </span></figcaption></figure><span class="incontext"><a class="internal" href="introduction_inheritance-in-c.html#ooderive_program">in-context</a></span>
</body>
</html>
