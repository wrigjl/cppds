<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<!--******************************************-->
<!--*  Authored with PreTeXt                 *-->
<!--*  pretextbook.org                       *-->
<!--*  Theme: default-modern                 *-->
<!--*  Palette:                              *-->
<!--******************************************-->

<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<figure class="listing figure-like"><figcaption><span class="type">Listing</span><span class="space heading-divison-mark heading-divison-mark__space"> </span><span class="codenumber">9.12.3<span class="period heading-divison-mark heading-divison-mark__period">.</span></span><span class="space heading-divison-mark heading-divison-mark__space"> </span>Generating Legal Moves<div class="autopermalink" data-description="Listing 9.12.3: Generating Legal Moves"><a href="#graphs_lst-knighttour2" title="Copy heading and permalink for Listing 9.12.3: Generating Legal Moves" aria-label="Copy heading and permalink for Listing 9.12.3: Generating Legal Moves">ðŸ”—</a></div></figcaption><div class="listing__contents"><div class="code-box"><pre class="program clipboardable"><code id="rs-graphs_lst-knighttour2-prog" class="language-cpp">int coordToNum(int x, int y, int bdSize) {
    // Takes the x y position and returns the id from 0 to (bdSize*2)-1
    int id = 0;
    id += y * bdSize;
    id += x;

    return id;
}

pair&lt;int, int&gt; numToCoord(int id, int bdSize) {
    int x, y;
    x = id % bdSize;
    y = (id - x) / bdSize;

    return make_pair(x, y);
}

bool legalCoord(int x, int bdSize) {
    if (x &gt;= 0 &amp;&amp; x &lt; bdSize) {
        return true;
    } else {
        return false;
    }
}

vector&lt;int&gt; genLegalMoves(int id, int bdSize) {
    pair&lt;int, int&gt; coords = numToCoord(id, bdSize);
    int x = coords.first;
    int y = coords.second;

    vector&lt;int&gt; newMoves;
    vector&lt;pair&lt;int, int&gt;&gt; myVec = {
        {-1, -2}, {-1, 2}, {-2, -1}, {-2, 1}, {1, -2}, {1, 2}, {2, -1}, {2, 1}};

    for (unsigned int i = 0; i &lt; myVec.size(); i++) {
        int newX = x + myVec[i].first;
        int newY = y + myVec[i].second;
        if (legalCoord(newX, bdSize) &amp;&amp; legalCoord(newY, bdSize)) {
            newMoves.push_back(coordToNum(newX, newY, bdSize));
        }
    }

    return newMoves;
}
</code></pre></div></div></figure><span class="incontext"><a class="internal" href="graphs_building-the-knights-tour-graph.html#graphs_lst-knighttour2">in-context</a></span>
</body>
</html>
