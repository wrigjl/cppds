<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<article class="task exercise-like"><h5 class="heading">
<span class="type">Task</span><span class="space"> </span><span class="codenumber">8.10.1.b</span><span class="period">.</span><span class="space"> </span><span class="title">Python Implementation.</span>
</h5>
<div class="ptx-runestone-container"><div class="runestone explainer ac_section "><div data-component="activecode" id="prog-heapwhole-py-prog"><textarea data-lang="python" data-timelimit="25000" data-audio="" data-coach="true" style="visibility: hidden;" id="prog-heapwhole-py-prog_editor" data-question_label="" data-codelens="true"># uses a vector to create a Binary Heap
class BinHeap:
    """initializes the vector and an attribute currentSize
    as 0 to allow for interger division."""
    def __init__(self):
        self.heapList = [0]
        self.currentSize = 0


    """ prelocates and item as far up in the
    tree as possible to maintain
    the Heap property """
    def percUp(self,i):
        while i // 2 &gt; 0:
            if self.heapList[i] &lt; self.heapList[i // 2]:
                tmp = self.heapList[i // 2]
                self.heapList[i // 2] = self.heapList[i]
                self.heapList[i] = tmp
            i = i // 2

    # appends item to the end of the vector
    def insert(self,k):
        self.heapList.append(k)
        self.currentSize = self.currentSize + 1
        self.percUp(self.currentSize)

    """ prelocates and item as far down in the
    tree as possible to maintain
    the Heap property """
    def percDown(self,i):
        while (i * 2) &lt;= self.currentSize:
            mc = self.minChild(i)
            if self.heapList[i] &gt; self.heapList[mc]:
                tmp = self.heapList[i]
                self.heapList[i] = self.heapList[mc]
                self.heapList[mc] = tmp
            i = mc

    def minChild(self,i):
        if i * 2 + 1 &gt; self.currentSize:
            return i * 2
        else:
            if self.heapList[i*2] &lt; self.heapList[i*2+1]:
                return i * 2
            else:
                return i * 2 + 1

    """ restores full complince with the heap structure
    and heap order properties after the root is removed
    by  taking the last item and moving it to the root position
    and pushing the new root node down the tree to its proper postion."""
    def delMin(self):
        retval = self.heapList[1]
        self.heapList[1] = self.heapList[self.currentSize]
        self.currentSize = self.currentSize - 1
        self.heapList.pop()
        self.percDown(1)
        return retval

    def buildHeap(self,alist):
        i = len(alist) // 2
        self.currentSize = len(alist)
        self.heapList = [0] + alist[:]
        while (i &gt; 0):
            self.percDown(i)
            i = i - 1

def main():

    bh = BinHeap()
    bh.buildHeap([9,5,6,2,3])

    print(bh.delMin())
    print(bh.delMin())
    print(bh.delMin())
    print(bh.delMin())
    print(bh.delMin())

main()
</textarea></div></div></div></article><span class="incontext"><a href="trees_binary-heap-implementation.html#lst-heapwhole-py" class="internal">in-context</a></span>
</body>
</html>
